# DonClaudioBot Environment Configuration
# Copy this file to .env and update with your values:
#   cp .env.example .env
#   nano .env  # or your preferred editor
#
# SECURITY: Generate fresh tokens with:
#   openssl rand -base64 32
#
# WARNING: Never commit .env to git. It is already in .gitignore.

# ============================================================================
# REQUIRED AUTHENTICATION TOKENS
# ============================================================================

# Gateway authentication token for OpenClaw Gateway API (REQUIRED)
# Used to authenticate requests to the OpenClaw Gateway service (in-process npm dependency)
# SECURITY: Use a strong random token. Minimum 32 characters recommended.
OPENCLAW_GATEWAY_TOKEN=change-me-generate-with-openssl-rand-base64-32

# Webhook authentication token for onboarding webhook endpoints (REQUIRED)
# Used to authenticate POST /webhook/onboarding requests from external services
# SECURITY: Use a different token than OPENCLAW_GATEWAY_TOKEN. Minimum 32 characters recommended.
HOOK_TOKEN=change-me-generate-with-openssl-rand-base64-32

# Z.AI API key for GLM-4.7 model (REQUIRED)
# Used for ALL agents (onboarding + dynamically created dedicated agents)
# Get your API key from: https://open.bigmodel.cn/usercenter/apikeys
# Default model: zai/glm-4.7 (applies globally via agents.defaults.model.primary)
ZAI_API_KEY=change-me-get-your-key-from-zai-console

# ============================================================================
# SERVICE CONFIGURATION
# ============================================================================

# Port for the Onboarding Service HTTP API (OPTIONAL)
# Default: 3000
PORT=3000

# Enable Baileys sidecar for automatic WhatsApp onboarding
# When set to 'true', automatically creates agents when new WhatsApp messages arrive
# Default: false (Baileys sidecar conflicts with Gateway - Pattern 37)
# NOTE: When enabled, Baileys sidecar and Gateway fight over WhatsApp connection (440 conflict errors)
# Set to 'false' and use manual webhook trigger for onboarding until auto-onboarding replacement is implemented
BAILEYS_SIDECAR_ENABLED=false

# ============================================================================
# SECURITY (OPTIONAL)
# ============================================================================

# User ID for running the Docker container as non-root (OPTIONAL)
# Default: 1000 (first non-root user on most Linux systems)
# Override if your host system uses different IDs (run `id -u` to check)
UID=1000

# Group ID for running the Docker container as non-root (OPTIONAL)
# Default: 1000 (first non-root user on most Linux systems)
# Override if your host system uses different IDs (run `id -g` to check)
GID=1000

# Docker group ID for Docker socket access (OPTIONAL)
# Default: 988 (docker group GID on most Hetzner systems)
# Used with group_add to allow non-root container to access Docker socket (Pattern 41)
# Run 'getent group docker | cut -d: -f3' on host to check the correct GID
DOCKER_GID=988

# Docker API version for Docker socket compatibility (OPTIONAL)
# Default: 1.44 (minimum version for Docker API compatibility)
# Required when container Docker client version is older than host daemon (Pattern 42)
DOCKER_API_VERSION=1.44

# ============================================================================
# CONTAINER RUNTIME
# ============================================================================

# OpenClaw state directory path (OPTIONAL)
# Set automatically in Docker, override for testing
# Contains WhatsApp auth, database, and agent sessions
# Default in container: /home/node/.openclaw
# Default local dev: ~/.openclaw
OPENCLAW_STATE_DIR=/home/node/.openclaw

# Node.js runtime environment (OPTIONAL)
# Set automatically in Docker, override for development
# Options: production, development, test
NODE_ENV=production

# ============================================================================
# OPTIONAL CONFIGURATION
# ============================================================================

# Public webhook URL for Baileys sidecar (if enabled)
# Must be reachable from WhatsApp/Baileys service
# Default: http://localhost:3000/webhook/onboarding
# WEBHOOK_URL=http://localhost:3000/webhook/onboarding

# WhatsApp account ID for multi-account setups
# Default: default (single account mode)
# WHATSAPP_ACCOUNT_ID=default

# ============================================================================
# OAUTH CONFIGURATION (Phase 15 - Seamless WhatsApp OAuth Flow)
# ============================================================================

# Domain name pointing to this server (A record → server IP)
# Used by Caddy for automatic TLS and as OAuth redirect base
OAUTH_DOMAIN=auth.donclaudio.app

# Full OAuth redirect URI (must match Google Cloud Console exactly)
# NOTE: Must match Google Cloud Console exactly (including trailing slash if present)
OAUTH_REDIRECT_URI=https://auth.donclaudio.app/oauth/callback/

# Google Web OAuth client credentials (from Google Cloud Console → Web application type)
# These are different from the "installed" (Desktop) credentials used by gog CLI directly
GOOGLE_WEB_CLIENT_ID=your-web-client-id.apps.googleusercontent.com
GOOGLE_WEB_CLIENT_SECRET=GOCSPX-your-secret-here
